# TanStack Router - File-Based Routing Guide

This project uses TanStack Router with file-based routing for navigation.

## Overview

File-based routing automatically generates routes based on the file structure in the `src/routes` directory. The router configuration is automatically generated by the Vite plugin.

## Current Routes

- `/` - Home page (login/authentication)
- `/about` - About page

## File Structure

```
src/
  routes/
    __root.tsx       # Root layout with navigation
    index.tsx        # Home page (/)
    about.tsx        # About page (/about)
  routeTree.gen.ts   # Auto-generated route tree (DO NOT EDIT)
  main.tsx           # App entry point with RouterProvider
```

## How to Add New Routes

### 1. Simple Route

Create a new file in `src/routes/` with the route name:

**Example: `src/routes/dashboard.tsx`**
```tsx
import { createFileRoute } from '@tanstack/react-router'

export const Route = createFileRoute('/dashboard')({
  component: Dashboard,
})

function Dashboard() {
  return (
    <div className="container">
      <h1>Dashboard</h1>
      <p>Welcome to your dashboard!</p>
    </div>
  )
}
```

This creates a route at `/dashboard`.

### 2. Dynamic Route (with parameters)

Use `$` prefix for dynamic segments:

**Example: `src/routes/users.$userId.tsx`**
```tsx
import { createFileRoute } from '@tanstack/react-router'

export const Route = createFileRoute('/users/$userId')({
  component: UserProfile,
})

function UserProfile() {
  const { userId } = Route.useParams()
  
  return (
    <div className="container">
      <h1>User Profile</h1>
      <p>User ID: {userId}</p>
    </div>
  )
}
```

This creates a route at `/users/:userId`.

### 3. Nested Routes

Create subdirectories for nested routes:

**Example: `src/routes/settings/index.tsx`**
```tsx
import { createFileRoute } from '@tanstack/react-router'

export const Route = createFileRoute('/settings/')({
  component: SettingsIndex,
})

function SettingsIndex() {
  return <div>Settings Home</div>
}
```

**Example: `src/routes/settings/profile.tsx`**
```tsx
import { createFileRoute } from '@tanstack/react-router'

export const Route = createFileRoute('/settings/profile')({
  component: SettingsProfile,
})

function SettingsProfile() {
  return <div>Profile Settings</div>
}
```

### 4. Layout Routes

Create a layout that wraps child routes:

**Example: `src/routes/settings.tsx`**
```tsx
import { createFileRoute, Outlet } from '@tanstack/react-router'

export const Route = createFileRoute('/settings')({
  component: SettingsLayout,
})

function SettingsLayout() {
  return (
    <div>
      <h2>Settings</h2>
      <nav>
        {/* Navigation for settings subsections */}
      </nav>
      <Outlet /> {/* Child routes render here */}
    </div>
  )
}
```

## Navigation

### Using Link Component

```tsx
import { Link } from '@tanstack/react-router'

<Link to="/">Home</Link>
<Link to="/about">About</Link>
<Link to="/users/$userId" params={{ userId: '123' }}>User 123</Link>
```

### Programmatic Navigation

```tsx
import { useNavigate } from '@tanstack/react-router'

function MyComponent() {
  const navigate = useNavigate()
  
  const handleClick = () => {
    navigate({ to: '/dashboard' })
  }
  
  return <button onClick={handleClick}>Go to Dashboard</button>
}
```

## Route Features

### 1. Route Parameters

```tsx
export const Route = createFileRoute('/users/$userId')({
  component: () => {
    const { userId } = Route.useParams()
    return <div>User: {userId}</div>
  }
})
```

### 2. Search Params (Query Parameters)

```tsx
import { createFileRoute } from '@tanstack/react-router'
import { z } from 'zod'

// Define search param validation
const searchSchema = z.object({
  page: z.number().default(1),
  filter: z.string().optional(),
})

export const Route = createFileRoute('/users/')({
  validateSearch: searchSchema,
  component: UserList,
})

function UserList() {
  const { page, filter } = Route.useSearch()
  return <div>Page: {page}, Filter: {filter}</div>
}
```

### 3. Loaders (Data Loading)

```tsx
export const Route = createFileRoute('/users/$userId')({
  loader: async ({ params }) => {
    const user = await fetchUser(params.userId)
    return { user }
  },
  component: UserProfile,
})

function UserProfile() {
  const { user } = Route.useLoaderData()
  return <div>Hello, {user.name}!</div>
}
```

### 4. Before Load (Guards/Auth)

```tsx
import { createFileRoute, redirect } from '@tanstack/react-router'

export const Route = createFileRoute('/dashboard')({
  beforeLoad: async ({ context }) => {
    if (!context.auth.isAuthenticated) {
      throw redirect({ to: '/' })
    }
  },
  component: Dashboard,
})
```

## Router DevTools

The TanStack Router DevTools are automatically included in development mode. Look for the floating icon in the bottom-right corner of your app.

## File Naming Conventions

- `index.tsx` - Index route for a directory
- `$param.tsx` - Dynamic parameter segment
- `_layout.tsx` - Layout route (doesn't add to URL path)
- `__root.tsx` - Root layout (wraps all routes)
- `route.lazy.tsx` - Code-split/lazy-loaded routes

## Auto-Generated Files

The following files are automatically generated:
- `src/routeTree.gen.ts` - Route tree configuration

**Do not edit these files manually!** They will be regenerated by the Vite plugin.

## Tips

1. **Hot Reload**: The route tree automatically updates when you add/remove route files
2. **Type Safety**: All routes are fully type-safe with TypeScript
3. **Navigation**: The navigation in `__root.tsx` is automatically highlighted for active routes
4. **Styling**: You can use the existing `App.css` or add route-specific styles

## Learn More

- [TanStack Router Docs](https://tanstack.com/router/latest)
- [File-Based Routing Guide](https://tanstack.com/router/latest/docs/framework/react/guide/file-based-routing)
- [Route Params & Search Params](https://tanstack.com/router/latest/docs/framework/react/guide/route-params)

